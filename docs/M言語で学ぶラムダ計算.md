# Power QueryのM言語を使って、アロンゾ・チャーチのラムダ計算を学ぶ
Java（オブジェクト指向）の「状態（State）」と「振る舞い（Behavior）」をセットにする考え方から、「純粋な関数（Function）」と「不変なデータ（Immutable Data）」の世界へと頭を切り替えるよい練習になります。
M言語は、ラムダ計算のコンセプトを学ぶのに適した構文を持っています。
まず、JavaとM（およびラムダ計算）の決定的な違いをイメージしてみましょう。

- **Java (OOP):** 「名詞（オブジェクト）」が主役です。データとメソッドがクラスにまとまっています。
- **M / ラムダ計算 (FP):** 「動詞（関数）」が主役です。すべては「入力」を受け取り「出力」を返す変換プロセスであり、変数の値を変える（再代入する）ことはできません。

ラムダ計算の究極のルールは、**「すべてのものは関数である」** ということです。数字も、True/Falseも、if文さえも関数で表現します。

オブジェクト指向の「データ（名詞）」から、関数型プログラミングの「振る舞い（動詞）」への頭の切り替え、ここが一番の難所であり、かつ一番面白いところです。
Power QueryのM言語を使って、一緒にアロンゾ・チャーチのラムダ計算の感覚をつかんでいきましょう。

# 「値」を「選択するアクション」と捉える

Javaなどのオブジェクト指向では、`boolean` は「True」か「False」という **状態（データ）** を持っています。そして `if` 文という別の機能を使って、そのデータの中身をチェックし、分岐します。
一方、純粋な関数型プログラミング（ラムダ計算）の世界には、`true` / `false` というデータもなければ、`if` 文もありません。

では、どうするか？ **「2つの選択肢を与えられたときに、どちらを選ぶか」という「振る舞い」そのものを「True / False」と定義します。**

イメージとしては、電車の線路のポイント（分岐器）が近いです。

- **OOP:** スイッチが「左」という状態になっている。（それを `if` 文が確認して左に進む）
- **FP:** スイッチとは、「来た電車を左に送る機能」そのものである。

# やってみましょう：M言語で「True」を作る
「すべては関数」というルールに従って、M言語で `MyTrue`（私のTrue）を作ってみましょう。

定義はこうです：

- **MyTrue** とは、2つの引数（選択肢）を受け取り、**常に1つ目の引数を返す関数**である。

M言語での関数の書き方は` (引数1, 引数2) => 戻り値` です。

## 練習問題
このルールを使って、`MyTrue` をM言語で書いてみてください。2つの引数を `x` と `y` とすると、どうなるでしょうか？
「``(x, y) => x``で1番目の引数をTrue」としましたか？それとも「``(x, y) => y``で2番目の引数をTrue」としましたか？

実は、ラムダ計算の標準的なお作法（チャーチの定義）では、その逆の振る舞いを定義します。

- True: 1番目（左）を選ぶ
- False: 2番目（右）を選ぶ

これは単なる決まり事ですが、これからのステップ（`if`関数の作成など）で混乱しないように、この標準ルールに合わせておきましょう。
では、**「1番目の引数（x）を返す」**ように書き直すと、`MyTrue` はどうなりますか？


<details>
<summary>答え</summary>

```javascript:
MyTrue = (x,y) => x
```

</details>
